<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // JavaScript: ê°ì²´ ê¸°ë°˜ì˜ ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´
        // ìë°”ì˜ í´ë˜ìŠ¤ (ë©”ëª¨ë¦¬ ì˜¬ë¼ê°€ì§€ ì•ŠìŒ) 
        // vs ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í”„ë¡œí† íƒ€ì… (ë©”ëª¨ë¦¬ ì˜¬ë¼ê°)
        // ê°ì²´: í”„ë¡œí† íƒ€ì…ê³¼ ë‹¬ë¼ì§ˆ ë•Œë§Œ ë©”ëª¨ë¦¬ ì˜¬ë¼ê°
        
        // ê°ì²´ ìƒì„± ë°©ë²• (í´ë˜ìŠ¤ê°€ ë‚˜ì˜¤ê¸° ì´ì „)
        const obj = {name:"smith", age:40, company:"naver"};
        console.log(obj);
        console.log(obj["name"]); // ëŒ€ê´„í˜¸ í‘œê¸°ë²•
        console.log(obj.name); // ë§ˆì¹¨í‘œ í‘œê¸°ë²•

        const car = {
            model: "grandeur",
            price: 2500,

            // ê°ì²´ì˜ ì†ì„±ê°’ì´ ë˜ ë‹¤ë¥¸ ê°ì²´
            company: {
                name: "hyundai",
                logo: "H"
            },

            // ê°ì²´ì˜ ì†ì„±ê°’ì´ ë°°ì—´
            tires: ["fl", "fr", "bl", "br"],

            // í•¨ìˆ˜ ì •ì˜
            drive: function() {
                console.log('Drive!');
            }
        };
        // Q1. print car's company name
        console.log(car.company); // object
        console.log(car.company.name);
        console.log(car["company"].name);
        console.log(car["company"]["name"]);

        // Q2. print car's tires
        console.log(car.tires); // array
        console.log(car.tires.length); // 4

        // for of: element
        for(const tire of car.tires) {
            console.log(tire);
        }
        // for, for in: index
        for(let i = 0; i < car.tires.length; i++) {
            console.log(car.tires[i]);
        }
        for(const i in car.tires) {
            console.log(car.tires[i]);
        }
        // foreach (array): element
        car.tires.forEach(tire => console.log(tire));

        // Q3. call drive()
        car.drive();

        // ê°ì²´ ì•ˆì˜ ì†ì„± ì¼ë¶€ ì‚­ì œí•˜ëŠ” ë°©ë²•
        // ì†ì„± ìì²´ê°€ ì‚­ì œê°€ ë˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ì°¸ì¡° ë§í¬ ì‚­ì œ

        // 1)
        delete car.price; 
        console.log(car.price); // car.price = undefined

        // 2)
        car.price = null;

        // 3)
        car.price = undefined;

        // ê°ì²´ ì†ì„± ìˆœíšŒ (for ~ in (index, key return))
        for(const c in car) {
            console.log(c); // KEY
            console.log(typeof(c)); // string
            console.log(car[c]); // VALUE, ëŒ€ê´„í˜¸ í‘œê¸°ë²• ì§€ì› O
            // console.log(car.c); // ë§ˆì¹¨í‘œ í‘œê¸°ë²• ì§€ì› X
        }

        // ë¶ˆê°€ ğŸ˜‚
        // for(const c of car) {
        //     console.log(c);
        // }

        // ë¶ˆê°€ ğŸ˜‚
        // console.log(car.length); // undefined
        // for(let i = 0; i < car.length; i++) {
        //     console.log(car[i]);
        // }
        
        // í´ë˜ìŠ¤ë¥¼ ëŒ€ì‹ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¦ (prototype, class)
        // class ê¸°ë°˜: ê° ê°ì²´ë§ˆë‹¤ name, age, company ê³µê°„ì´ ìƒˆë¡œ í• ë‹¹
        // prototytpe ê¸°ë°˜: prototypeì— ë””í´íŠ¸ ê°’ì„ ì§€ì •í•´ë†“ê³  
        //                  prototypeì˜ ê°’ê³¼ ë‹¬ë¼ì§ˆ ë•Œë§Œ ê³µê°„ì´ ìƒˆë¡œ í• ë‹¹
        // person.prototype.name = "", 
        // person.prototype.age = 0, 
        // person.prototype.company = "hyundai"
        function byClassPerson(name, age, company="hyundai") {
            this.name = name;
            this.age = age;
            this.company = company;
        }
        const p1 = new byClassPerson("smith", 30);
        const p2 = new byClassPerson("sally", 50, "samsung");
        console.log(p1);
        console.log(p2);

        function byProtoPerson() {}
        byProtoPerson.prototype.name = "";
        byProtoPerson.prototype.age = 0;
        byProtoPerson.prototype.company = "hyundai";
        const p3 = new byProtoPerson();
        p3.name = "smith";
        p3.age = 30;
        const p4 = new byProtoPerson();
        p4.name = "sally";
        p4.age = 50;
        p4.company = "samsung";
        console.log(p3);
        console.log(p4);

        /////////////////////////////////////////////////////////
        // Q1. HarryPotterBook í´ë˜ìŠ¤ (title, price ëª¨ë‘ ë™ì¼)
        // 1- title, price, stock (2, 3, 2), series (1, 2, 3)
        function HarryPotterBook(stock=0, series=1) {
            this.stock = stock;
            this.series = series;
        }
        HarryPotterBook.prototype.title = "HarryPotter";
        HarryPotterBook.prototype.price = 23000;
        // HarryPotterBook.prototype.stock = 0;
        // HarryPotterBook.prototype.series = 1;
        // stock, seriesëŠ” ë‹¬ë¼ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— prototypeì— ì €ì¥í•  í•„ìš”ê°€ ì—†ìŒ
        // ì˜¤íˆë ¤ prototypeì˜ ë©”ëª¨ë¦¬ ê³µê°„ë§Œ ì°¨ì§€í•¨

        const harryPotter1 = new HarryPotterBook(2, 1);
        const harryPotter2 = new HarryPotterBook(3, 2);
        const harryPotter3 = new HarryPotterBook(2, 3);
        const harryPotter4 = new HarryPotterBook();
        console.log(harryPotter1);
        console.log(harryPotter2);
        console.log(harryPotter3);
        console.log(harryPotter4);

        // Q2. Triangle í´ë˜ìŠ¤
        // 1 - base, height (base, heightì€ 0ë³´ë‹¤ ì‘ì„ ìˆ˜ ì—†ìŒ, ì‘ì„ ê²½ìš° alert)
        // 2 - return base, height (ë°°ì—´ ë¦¬í„´, ê°ì²´ ë¦¬í„´)
        function Triangle(base, height) {
            if(base <= 0) {
                alert("[ERROR] ë°‘ë³€ì˜ ê¸¸ì´ëŠ” ì–‘ìˆ˜ì´ì–´ì•¼ í•¨");
                return;
            }
            if(height <= 0) {
                alert("[ERROR] ë†’ì´ëŠ” ì–‘ìˆ˜ì´ì–´ì•¼ í•¨");
                return;
            }

            this.base = base;
            this.height = height;

            // ë°°ì—´ ë¦¬í„´
            return [this.base, this.height];
            
            // ê°ì²´ ë¦¬í„´
            // return {
            //     base: this.base,
            //     height: this.height
            // }
        }

        // ê°ì²´ ë¦¬í„´
        // const triangle1 = new Triangle(0, 0);
        // console.log(triangle1.base); // undefined
        // console.log(triangle1.height); // undefined
        // const triangle2 = new Triangle(3, 5);
        // console.log(triangle2.base); // 3
        // console.log(triangle2.height); // 5

        // ë°°ì—´ ë¦¬í„´
        // const triangle1 = new Triangle(0, 0);
        // console.log(triangle1[0]); // undefined
        // console.log(triangle1[1]); // undefined
        // const triangle2 = new Triangle(3, 5);
        // console.log(triangle2[0]); // 3
        // console.log(triangle2[1]); // 5

        /////////////////////////////////////////////////////////////////
        // í´ë˜ìŠ¤ (class)
        // - ES6 ë„ì…
        // - í”„ë¡œí† íƒ€ì…ì˜ ì–¸ì–´ì§€ë§Œ ê°€ë…ì„±, í‘œí˜„ ê°„ë‹¨í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ ë¬¸ë²• ì¶”ê°€
        // - functionì˜ ê°œë…ê³¼ í´ë˜ìŠ¤ì˜ ê°œë…ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ
        //   (syntatic sugar)

        class HarryPotterBookbyClass {
            // public: fieldName; 
            // private: #fieldName;
            
            static #title = 'HarryPotter';
            static #price = 23000;

            #stock;
            #series;
            
            constructor(stock, series) {
                this.#stock = stock;
                this.#series = series;
            }

            // Q1. 0ë³´ë‹¤ ì‘ì€ stockì´ ë“¤ì–´ì˜¤ëŠ” ê²½ìš°ì—ëŠ” 0 ì´ˆê¸°í™”
            // Q2. 0ë³´ë‹¤ ì‘ì€ seriesê°€ ë“¤ì–´ì˜¤ëŠ” ê²½ìš°ì—ëŠ” 0 ì´ˆê¸°í™”
            // => ì‚¼í•­ ì—°ì‚°ì
            get stock() {return this.#stock;}
            set stock(stock) {this.#stock = stock >= 0 ? stock : 0;}

            get series() {return this.#series;}
            set series(series) {this.#series = series >= 0 ? series : 0;}

            // Q3. static title, price getter
            // static get title() {return HarryPotterBookbyClass.#title;}
            // static get price() {return HarryPotterBookbyClass.#price;}


            // Q4. printStatic() call
            // Q6. ë§Œì•½ì— get title, get priceê°€ ì •ì˜ë˜ì–´ìˆì§€ ì•Šì„ ê²½ìš°
            static printStatic() {
                console.log(HarryPotterBookbyClass.#title); // static private
                console.log(HarryPotterBookbyClass.#price); // static private
            }

            // Q5. print() call
            print() {
                console.log(this.#stock); // private
                console.log(this.#series); // private
            }
        }
        const harryPotterbyClass = new HarryPotterBookbyClass(2, 1);
        console.log(harryPotterbyClass);
   
        // static ë³€ìˆ˜ì˜ getter() í˜¸ì¶œì‹œì—ëŠ” í´ë˜ìŠ¤ì´ë¦„(**).í•„ë“œì´ë¦„
        // ë§Œì•½ private ë³€ìˆ˜ì˜ getter()ê°€ ì—†ì„ ì‹œì—ëŠ” undefined
        // ë§Œì•½ private ë³€ìˆ˜ì˜ getter()ê°€ ìˆì„ ì‹œì—ëŠ” í•„ë“œë¥¼ ì ‘ê·¼í•˜ë©´ getter() í˜¸ì¶œ
        console.log(HarryPotterBookbyClass.title); 
        console.log(HarryPotterBookbyClass.price);

        // Q4.
        HarryPotterBookbyClass.printStatic();
        // Q5.
        harryPotterbyClass.print();

        /////////////////////////////////////////////////////////////////
        // Q7. public field (publicField = "public!") ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œì§€
        // Q8. private field (privateField = "private!") ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œì§€ 
        // Q9. public field (const constField = "const!") ì™¸ë¶€ì—ì„œ ìˆ˜ì • ê°€ëŠ¥í•œì§€
        // => class ë‚´ì—ì„œ const ì •ì˜ ë¶ˆê°€ëŠ¥
        //   1) class ì™¸ë¶€ì— constë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©
        //   2) freeze()
        //   3) ë¦¬í„°ëŸ´ (literal) ìƒìˆ˜ë¥¼ ì„ ì–¸í•´ì„œ ì‚¬ìš©

        // const constField  = "const!"; // 1)
        class Test {
            publicField = "public!";
            #privateField = "private!";
            
            static get constField() {
                return "const!"; // 3)

                // const constField = Object.freeze("const!"); // 2)
                // return constField;
            }
        }
        const t = new Test();
        console.log(t.publicField); // "public!"
        console.log(t.privateField); // undefined
        
        t.publicField = "public revised!";
        console.log(t.publicField); // "public revised!"
        console.log(t);
        
        // privateFieldë¼ëŠ” public í•„ë“œê°€ ìƒì„±
        // ê¸°ì¡´ì˜ privateì¸ privateFieldëŠ” ìˆ˜ì •ë˜ì§€ ì•ŠìŒ
        t.privateField = "private revised!"; // public privateField ì„ ì–¸
        console.log(t.privateField); // "private revised" (public)
        console.log(t); // #privateField, publicField, privateField

        Test.constField = "const revised!";
        console.log(Test.constField); // "const!" (get constField í•¨ìˆ˜ í˜¸ì¶œ)

        const tt = new Test();
        console.log(tt); // #privateField, publicField

        //////////////////////////////////////////////////////
        // Q10. static vs prototype
        function Person(name, age) {
            this.name = name;
            this.age = age;
        }

        // static method
        Person.getInfo = function(obj) {
            return {
                name: obj.name,
                age: obj.age
            };
        }

        // prototype method
        Person.prototype.getName = function() {
            return this.name;
        }
        Person.prototype.getAge = function() {
            return this.age;
        }

        const sally = new Person('sally', 30);
        console.log(sally.getName());
        console.log(sally.getAge());
        console.log(sally); // getName() (O), getAge() (O), getInfo() (X)
        
        // console.log(sally.getInfo(sally)); // error (static method)
        console.log(Person.getInfo(sally).name);
        console.log(Person.getInfo(sally).age);
        
        // static method: class ì´ë¦„ìœ¼ë¡œ í˜¸ì¶œ (ê°ì²´ê°€ ì—†ì–´ë„ í˜¸ì¶œ ê°€ëŠ¥)
        // => ê°ì²´ì— ì—°ê²°ë˜ì–´ìˆëŠ” ë©”ì†Œë“œ X
        // prototype method: instance ì´ë¦„ìœ¼ë¡œ í˜¸ì¶œ
        // => ê°ì²´ì— ì—°ê²°ë˜ì–´ìˆëŠ” ë©”ì†Œë“œ O
    
    </script>
</body>
</html>